<!-- 使用模板继承机制简化页面模板 -->
{% extends "base.html" %} 
<!-- Flask-Bootstrap 扩展提供了一个高层级的辅助函数，可以使用 Bootstrap 预定义的表单样式渲染整个 Flask-WTF 表单，而这些操作只需一次调用即可完成。 -->
{% import "bootstrap/wtf.html" as wtf %} 

{% block title %}Flasky{% endblock %}

{% block page_content %} 
  
<div class="page-header">         
    <h1>Hello, 
        {% if current_user.is_authenticated %}
            {{ current_user.username }}
        {% else %}
            Stranger
        {% endif %}!
    </h1>     
</div> 
<div>     
    {% if current_user.can(Permission.WRITE) %}     
    {{ wtf.quick_form(form) }}     
    {% endif %} 
</div> 
<ul class="posts">     
    {% for post in posts %}     
    <li class="post">         
        <div class="profile-thumbnail">             
            <a href="{{ url_for('.user', username=post.author.username) }}">                 
                <img class="img-rounded profile-thumbnail"  src="{{ post.author.gravatar(size=40) }}"> 
            </a>         
        </div>         
        <div class="post-date">{{ moment(post.timestamp).fromNow() }}</div>         
        <div class="post-author">            
            <a href="{{ url_for('.user', username=post.author.username) }}">                
                {{ post.author.username }}            
            </a>         
        </div>
        <div class="post-body">{{ post.body }}</div>      
    </li>     
    {% endfor %} 
</ul>
{% endblock %}